function A =  rotMat(q)

A=eye(3);

A(1,1)=q(4)^2+q(5)^2-q(6)^2-q(7)^2;
A(2,1)=2*(q(5)*q(6)+q(4)*q(7));
A(3,1)=2*(q(5)*q(7)-q(4)*q(6));

A(1,2)=2*(q(5)*q(6)-q(4)*q(7));
A(2,2)=q(4)^2-q(5)^2+q(6)^2-q(7)^2;
A(3,2)=2*(q(6)*q(7)+q(4)*q(5));

A(1,3)=2*(q(5)*q(7)+q(4)*q(6));
A(2,3)=2*(q(6)*q(7)-q(4)*q(5));
A(3,3)=q(4)^2-q(5)^2-q(6)^2+q(7)^2;




